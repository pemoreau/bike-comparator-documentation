{"version":3,"sources":["webpack:///./src/templates/collection.js"],"names":["Card","props","to","sx","textDecoration","backgroundColor","borderWidth","borderStyle","borderColor","borderBottomColor","hasSuccessor","borderTopLeftRadius","hasPredecessor","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","padding","position","zIndex","overflow","width","display","outline","marginBottom","boxShadow","transition","color","border","my","py","fontSize","title","mt","lineHeight","description","CollectionTemplate","render","node","siteTitle","this","data","site","siteMetadata","siteDescription","collection","articles","Array","isArray","sections","flatMap","section","icon","jsx","icons","size","location","mb","texts","allCollectionsText","borderRadius","px","flexDirection","pt","flex","alignItems","justifyContent","pb","length","articlesInCollectionZeroText","articlesInCollectionOneText","articlesInCollectionTwoText","articlesInCollectionMultipleText","ml","listStyleType","map","articleNode","index","file","childMarkdownRemark","article","key","fields","slug","frontmatter","articlesOfSection","filter","Fragment","id","href","cursor","React","Component","pageQuery"],"mappings":"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","file":"component---src-templates-collection-js-e2c4092b8fa4908741d1.js","sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"theme-ui\"\nimport React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport slug from \"slug\"\nimport * as icons from \"../utils/icons\"\n\nfunction concatArticles(node) {\n    return [\n        ...(Array.isArray(node.articles) ? node.articles : []),\n        ...(Array.isArray(node.sections)\n            ? node.sections.flatMap(section =>\n                Array.isArray(section.articles) ? section.articles : []\n            )\n            : []),\n    ]\n}\n\nfunction Card(props) {\n    return (\n        <Link\n            to={props.to}\n            sx={{ textDecoration: \"none\", \"&:hover\": { textDecoration: \"none\" } }}\n        >\n            <div\n                sx={{\n                    backgroundColor: \"paperBackgroundColor\",\n                    borderWidth: 1,\n                    borderStyle: \"solid\",\n                    borderColor: \"rgba(136,149,162,0.2)\",\n                    borderBottomColor: props.hasSuccessor\n                        ? \"transparent\"\n                        : \"rgba(136,149,162,0.2)\",\n                    borderTopLeftRadius: props.hasPredecessor ? 0 : 3,\n                    borderTopRightRadius: props.hasPredecessor ? 0 : 3,\n                    borderBottomLeftRadius: props.hasSuccessor ? 0 : 3,\n                    borderBottomRightRadius: props.hasSuccessor ? 0 : 3,\n                    padding: [3, 4],\n                    position: \"relative\",\n                    zIndex: \"3\",\n                    textDecoration: \"none\",\n                    overflow: \"hidden\",\n                    width: \"100%\",\n                    display: \"block\",\n                    outline: \"none\",\n                    marginBottom: props.hasSuccessor ? 0 : 3,\n                    boxShadow: \"0 3px 8px 0 rgba(0,0,0,0.03)\",\n                    transition:\n                        \"border .15s linear, transform .15s linear, background-color .15s linear, box-shadow .15s linear, opacity .15s linear, transform .15s linear, box-shadow .15s linear\",\n                    color: \"paperHeadingColor\",\n                    \"&:hover\": {\n                        border: \"1px solid rgba(136,149,162,0.2)\",\n                        backgroundColor: \"paperHoverBackgroundColor\",\n                        color: \"paperHoverHeadingColor\",\n                        borderBottomColor: props.hasSuccessor\n                            ? \"transparent\"\n                            : \"rgba(136,149,162,0.2)\",\n                    },\n                }}\n            >\n                <h3 sx={{ my: 0, py: 0, color: \"inherit\", fontSize: [3, 4] }}>\n                    {props.title}\n                </h3>\n                <div\n                    sx={{\n                        mt: 2,\n                        color: \"paperDescriptionColor\",\n                        fontSize: [1, 2],\n                        lineHeight: \"body\",\n                    }}\n                >\n                    {props.description}\n                </div>\n            </div>\n        </Link>\n    )\n}\n\nclass CollectionTemplate extends React.Component {\n    render() {\n        const siteTitle = this.props.data.site.siteMetadata.title\n        const siteDescription = this.props.data.site.siteMetadata.description\n        const collection = this.props.data.collection\n        const articles = concatArticles(collection)\n        const icon = collection.icon\n            ? jsx(\n                icons[collection.icon],\n                { sx: { color: \"iconColor\" }, size: \"2rem\" },\n                null\n            )\n            : null\n\n        return (\n            <Layout location={this.props.location} title={siteTitle} description={siteDescription}\n            >\n                <SEO title={collection.title} description={collection.description} />\n                <p sx={{ mt: 1, mb: 2, py: 0 }}>\n                    <Link\n                        to=\"/\"\n                        sx={{\n                            color: \"breadcrumbLinkTextColor\",\n                            boxShadow: \"none\",\n                            fontSize: 1,\n                            \"&:hover\": {\n                                color: \"breadcrumbHoverLinkTextColor\",\n                            },\n                        }}\n                    >\n                        {this.props.data.site.siteMetadata.texts.allCollectionsText}\n                    </Link>{\" \"}\n                    <span sx={{ color: \"breadcrumbTextColor\", fontSize: 1 }}>\n                        &rsaquo;\n          </span>{\" \"}\n                    <span sx={{ color: \"breadcrumbTextColor\", fontSize: 1 }}>\n                        {collection.title}\n                    </span>\n                </p>\n                <article\n                    sx={{\n                        backgroundColor: \"collectionBackgroundColor\",\n                        borderColor: \"transparent\",\n                        borderStyle: \"solid\",\n                        borderRadius: 2,\n                        px: [2, 4],\n                        py: 2,\n                        mb: 6,\n                    }}\n                >\n                    <div\n                        sx={{\n                            display: \"flex\",\n                            flexDirection: [\"column\", \"row\"],\n                            pt: [0, 3],\n                        }}\n                    >\n                        <div\n                            sx={{\n                                flex: 1,\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: [\"flex-start\", \"center\"],\n                                py: [3, 0],\n                            }}\n                        >\n                            {icon}\n                        </div>\n                        <div sx={{ flex: 4 }}>\n                            <header>\n                                <h2\n                                    sx={{\n                                        my: 0,\n                                        py: 0,\n                                        color: \"collectionHeading\",\n                                    }}\n                                >\n                                    {collection.title}\n                                </h2>\n                            </header>\n                            <p\n                                sx={{\n                                    pt: 2,\n                                    pb: 0,\n                                    mb: 0,\n                                    color: \"collectionDescription\",\n                                }}\n                            >\n                                {collection.description}\n                            </p>\n                            <small sx={{ color: \"collectionDescription\" }}>\n                                {articles.length}{\" \"}\n                                {(() => {\n                                    switch (articles.length) {\n                                        case 0:\n                                            return this.props.data.site.siteMetadata.texts\n                                                .articlesInCollectionZeroText\n                                        case 1:\n                                            return this.props.data.site.siteMetadata.texts\n                                                .articlesInCollectionOneText\n                                        case 2:\n                                            return this.props.data.site.siteMetadata.texts\n                                                .articlesInCollectionTwoText\n                                        default:\n                                            return this.props.data.site.siteMetadata.texts\n                                                .articlesInCollectionMultipleText\n                                    }\n                                })()}\n                            </small>\n                        </div>\n                    </div>\n                    <ul sx={{ ml: 0, mt: 5, listStyleType: \"none\" }}>\n                        {(Array.isArray(collection.articles)\n                            ? collection.articles\n                            : []\n                        ).map((articleNode, index) => {\n                            // This happens when a collection points to an article file which\n                            // does not exist\n                            if (\n                                !articleNode ||\n                                !articleNode.file ||\n                                !articleNode.file.childMarkdownRemark\n                            ) {\n                                return null\n                            }\n\n                            const article = articleNode.file.childMarkdownRemark\n                            if (!article) return null\n                            return (\n                                <li key={article.fields.slug} sx={{ my: 0, py: 0 }}>\n                                    <Card\n                                        to={article.fields.slug}\n                                        title={article.frontmatter.title}\n                                        description={article.frontmatter.description}\n                                        hasPredecessor={index > 0}\n                                        hasSuccessor={index < collection.articles.length - 1}\n                                    />\n                                </li>\n                            )\n                        })}\n                    </ul>\n                    {Array.isArray(collection.sections) &&\n                        collection.sections.map(section => {\n                            const articlesOfSection = Array.isArray(section.articles)\n                                ? section.articles\n                                    .filter(({ file }) => file)\n                                    .map(({ file }) => file.childMarkdownRemark)\n                                : []\n\n                            // skip sections without articles\n                            if (articlesOfSection.length === 0) return null\n\n                            return (\n                                <React.Fragment key={section.id}>\n                                    {/* Id must be set for navigation */}\n                                    <a\n                                        id={slug(section.id)}\n                                        href={\"#\" + slug(section.id)}\n                                        sx={{\n                                            cursor: \"default\",\n                                            \":hover\": { textDecoration: \"none\" },\n                                        }}\n                                    >\n                                        <h3 sx={{ fontSize: 3, mb: 3, color: \"initial\" }}>\n                                            {section.title}\n                                        </h3>\n                                    </a>\n                                    <ul sx={{ ml: 0, listStyleType: \"none\" }}>\n                                        {articlesOfSection.map((article, index) =>\n                                            article ? (\n                                                <li key={article.fields.slug} sx={{ my: 0, py: 0 }}>\n                                                    <Card\n                                                        to={article.fields.slug}\n                                                        title={article.frontmatter.title}\n                                                        description={article.frontmatter.description}\n                                                        hasPredecessor={index > 0}\n                                                        hasSuccessor={index < articlesOfSection.length - 1}\n                                                    />\n                                                </li>\n                                            ) : null\n                                        )}\n                                    </ul>\n                                </React.Fragment>\n                            )\n                        })}\n                </article>\n            </Layout>\n        )\n    }\n}\n\nexport default CollectionTemplate\n\nexport const pageQuery = graphql`\n  fragment CollectionArticleFragment on File {\n    childMarkdownRemark {\n      excerpt\n      fields {\n        slug\n      }\n      parent {\n        id\n        ... on File {\n          name\n          sourceInstanceName\n        }\n      }\n      frontmatter {\n        title\n        description\n      }\n    }\n  }\n\n  query CollectionArticlesByCollectionId($collectionId: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n        texts {\n          allCollectionsText\n          articlesInCollectionZeroText\n          articlesInCollectionOneText\n          articlesInCollectionTwoText\n          articlesInCollectionMultipleText\n        }\n      }\n    }\n    collection: collectionsYaml(id: { eq: $collectionId }) {\n      id\n      title\n      description\n      icon\n      articles {\n        file {\n          ...CollectionArticleFragment\n        }\n      }\n      sections {\n        id\n        title\n        articles {\n          file {\n            ...CollectionArticleFragment\n          }\n        }\n      }\n      fields {\n        slug\n      }\n    }\n  }\n`\n"],"sourceRoot":""}